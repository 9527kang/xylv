<!DOCTYPE html>
<html lang="en">

<head>
	@@include('public/meta.html')
</head>

<body class="">

	<div class="p_12">
		<form class="am-block" action="#">
			<div class="form_group">
				<input type="number" oninput="if(value.length>11)value=value.slice(0,11)" class="am-block lg" placeholder="请输入手机号" required onchange="validatemobile(this.value)" required>
			</div>
			<div class="form_group flex_between">
				<input type="number" class="lg" placeholder="输入手机验证码" oninput="if(value.length>6)value=value.slice(0,6)" required>
				<input class="col_main am-text-center travel_msg am-text-sm" value="发送验证码" readonly onclick="settime(this)"/>
			</div>
			<div class="form_group">
				<input type="password" class="am-block lg" id="pwd1" placeholder="设置新的登录密码" required>
			</div>
			<div class="form_group">
				<input type="password" class="am-block lg" id="pwd2" placeholder="再次输入密码" required>
			</div>
			<div class="pd_12">
				<button type="submit" class="confirm_btn" id="confirm_btn">完成</button>
			</div>
		</form>
	</div>

	<script>
		//发送验证码倒计时
		var countdown = 60;

		function settime(obj) {
			if (countdown == 0) {
				obj.removeAttribute("disabled");
				obj.value = "获取验证码";
				countdown = 60;
				return;
			} else {
				obj.setAttribute("disabled", true);
				obj.value = "重新发送(" + countdown + ")";
				countdown--;
			}
			setTimeout(function () {
				settime(obj)
			}, 1000)
		}

		$(function(){
			//验证两次输入密码是否相同
			var regist_btn = $('#confirm_btn')
			regist_btn.click(function () {
				var pwd1 = $('#pwd1').val(),
					pwd2 = $('#pwd2').val()
				if (pwd1 != pwd2) {
					alert('两次输入密码不一致')
					$('#pwd2').val('').focus()
					return false
				}
			})
		})
		
	</script>

</body>

</html>